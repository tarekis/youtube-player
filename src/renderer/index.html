<!DOCTYPE html>
<html>
    <head>
        <link rel="stylesheet" href="styles.css">
    </head>
    <body>
        <div id="nav-body-ctrls"></div>
        <div id="nav-body-views">
            <div id="loader">
                <div class="showbox">
                    <div class="loader">
                        <svg class="circular" viewBox="25 25 50 50">
                        <circle class="path" cx="50" cy="50" r="20" fill="none" stroke-width="2" stroke-miterlimit="10"/>
                        </svg>
                    </div>
                </div>
            </div>
        </div>
        <script>
            const ipcRenderer = require('electron').ipcRenderer;
            const ElectronNavigation = require('electron-navigation');
            const enav = new ElectronNavigation();
            const webview = enav.newTab('https://youtube.com/');

            ipcRenderer.on('control', (event, control) => {

                switch (control) {
                    case 'MediaPlayPause':
                        webview.executeJavaScript(`
                            document.querySelector('.ytp-play-button').click();
                        `);
                        break;
                    case 'MediaPreviousTrack':
                        webview.executeJavaScript(`
                            document.querySelector('.ytp-prev-button').click();
                        `);
                        break;
                    case 'MediaNextTrack':
                        webview.executeJavaScript(`
                            document.querySelector('.ytp-next-button').click();
                        `);
                        break;
                }
            });
        </script>
    </body>
</html>
